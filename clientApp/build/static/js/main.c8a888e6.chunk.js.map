{"version":3,"sources":["layout/Header.js","components/SelectYear.js","components/Calendar.js","components/FieldData.js","components/Spinner.js","layout/EventDetails.js","layout/Main.js","layout/Footer.js","App.js","index.js"],"names":["Header","className","SelectYear","props","Container","Row","Col","md","xs","Button","variant","size","block","onClick","onChange","year","Calendar","dateToday","Date","month","lg","value","showNavigation","showNeighboringMonth","date","event","events","find","e","dia","getUTCDate","locale","tileClassName","view","getDate","tipo","FieldData","useState","setValue","Form","Group","as","Label","column","sm","name","toUpperCase","Control","type","target","handleChange","Spinner","loading","animation","role","EventDetails","item","setItem","isSending","setIsSending","setLoading","error","setError","useEffect","Object","assign","holiday","handleSave","useCallback","host","window","location","href","split","process","axios","patch","feriado","then","result","data","statusCode","onSave","console","log","body","err","catch","Modal","show","onHide","handleClose","closeButton","Title","_id","anio","mes","Body","Alert","keys","map","i","filter","f","key","Footer","hide","toString","Main","setYear","holidays","setHolidays","setHoliday","refresh","forceRefresh","payload","showDetails","m","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2NAUeA,G,YARA,WACX,OACI,yBAAKC,UAAU,UACX,gD,uCCsBGC,EAxBI,SAAAC,GACf,OACI,kBAACC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAKJ,UAAU,cACX,kBAACK,EAAA,EAAD,CAAKC,GAAI,EAAGC,GAAI,GACZ,kBAACC,EAAA,EAAD,CAAQC,QAAQ,UAAUC,KAAK,KAAKC,OAAK,EAACC,QAAS,kBAAIV,EAAMW,SAASX,EAAMY,KAAM,KAC7E,OAGT,kBAACT,EAAA,EAAD,CAAKC,GAAI,EAAGC,GAAI,GACZ,gCAAML,EAAMY,KAAZ,MAEJ,kBAACT,EAAA,EAAD,CAAKC,GAAI,EAAGC,GAAI,GAChB,kBAACC,EAAA,EAAD,CAAQC,QAAQ,UAAUC,KAAK,KAAKC,OAAK,EAACC,QAAS,kBAAIV,EAAMW,SAASX,EAAMY,KAAM,KACzE,U,QCwBVC,G,MApCE,SAAAb,GACb,IAAIc,EAAY,IAAIC,KAAKf,EAAMY,KAAMZ,EAAMgB,MAAO,GAOlD,OACI,kBAACb,EAAA,EAAD,CAAKc,GAAI,EAAGb,GAAI,EAAGC,GAAI,IACnB,kBAAC,IAAD,CACAa,MAAOJ,EACPK,gBAAgB,EAChBC,sBAAsB,EACtBT,SAXY,SAACU,GACjB,IAAIC,EAAQtB,EAAMuB,OAAOC,MAAM,SAAAC,GAAC,OAAGA,EAAEC,KAAOL,EAAKM,gBACjD3B,EAAMU,QAAQY,IAUVM,OAAQ,KACRC,cAAe,YAAqB,IAAlBR,EAAiB,EAAjBA,KAAiB,EAAXS,KACpB9B,EAAMuB,OAAOC,MAAM,SAAAC,GAAC,OAAIA,EAAEC,KAAOL,EAAKU,aAClC,IAAIT,EAAQtB,EAAMuB,OAAOC,MAAM,SAAAC,GAAC,OAAIA,EAAEC,KAAOL,EAAKU,aAClD,IAAKT,EAQD,MAAO,cAPP,OAAQA,EAAMU,MACV,IAAK,aACD,MAAO,cACX,QACI,MAAO,kBAO3B,gC,yCCPGC,EA1BG,SAAAjC,GAAU,IAAD,EACGkC,mBAASlC,EAAMkB,OADlB,mBAChBA,EADgB,KACTiB,EADS,KASvB,OACI,kBAACC,EAAA,EAAKC,MAAN,CAAYC,GAAIpC,KACZ,kBAACkC,EAAA,EAAKG,MAAN,CAAYC,QAAM,EAACC,GAAI,GACjBzC,EAAM0C,KAAKC,eAEjB,kBAACxC,EAAA,EAAD,CAAKsC,GAAI,GACL,kBAACL,EAAA,EAAKQ,QAAN,CAAcC,KAAK,OACflC,SAbK,SAAAW,GACjB,IAAIJ,EAASI,EAAMwB,OAAO5B,MAC1BiB,EAASjB,GACTlB,EAAM+C,aAAa/C,EAAM0C,KAAMxB,IAWnBwB,KAAM1C,EAAM0C,KACZxB,MAAOA,O,QCPZ8B,EAXC,SAAAhD,GACZ,OAAKA,EAAMiD,QAEP,yBAAKnD,UAAU,WACX,kBAAC,IAAD,CAAUU,KAAM,IAAK0C,UAAU,SAASC,KAAK,UACzC,0BAAMrD,UAAU,WAAhB,gBAJe,MCqFhBsD,EAnFM,SAAApD,GAAS,IAAD,EACDkC,qBADC,mBAClBmB,EADkB,KACZC,EADY,OAESpB,oBAAU,GAFnB,mBAElBqB,EAFkB,KAEPC,EAFO,OAGKtB,oBAAS,GAHd,mBAGlBe,EAHkB,KAGTQ,EAHS,OAICvB,mBAAS,MAJV,mBAIlBwB,EAJkB,KAIXC,EAJW,KAOzBC,qBAAW,WACRN,EAAUO,OAAOC,OAAO,GAAI9D,EAAM+D,YACnC,CAAC/D,EAAM+D,UAET,IAAMhB,EAAe,SAACL,EAAMxB,GACxBmC,EAAKX,GAAQxB,EACboC,EAAQD,IAGNW,EAAaC,uBAAa,SAACZ,GAC7B,IAAIE,EAAJ,CACAE,GAAW,GACXD,GAAa,GACbG,EAAS,MACT,IAAIO,EAAO,UAAUC,OAAOC,SAASC,KAAKC,MAAM,MAAM,GAAGA,MAAM,KAAK,GAAI,IACnEC,EAELC,IAAMC,MAAN,UAAgBP,EAAhB,mBAAuC,CAACQ,QAAQrB,IAC/CsB,MAAK,SAAAC,GACFnB,GAAW,GACXD,GAAa,GACiB,KAA1BoB,EAAOC,KAAKC,WACZ9E,EAAM+E,OAAO1B,IAEbM,EAAS,yDACTqB,QAAQC,IAAR,6BAAkCL,EAAOC,KAAKK,KAAKC,UAG1DC,OAAO,SAAAD,GACJ1B,GAAW,GACXD,GAAa,GACbG,EAAS,yDACTqB,QAAQC,IAAR,6BAAkCE,UAEvC,IAGH,OAAKnF,EAAM+D,QAGP,kBAACsB,EAAA,EAAD,CAAOC,KAAuB,MAAjBtF,EAAM+D,QAAiBwB,OAAQvF,EAAMwF,YAAahF,KAAK,MAChE,kBAAC6E,EAAA,EAAMxF,OAAP,CAAc4F,aAAW,GACrB,kBAACJ,EAAA,EAAMK,MAAP,KACSrC,EAAKsC,IAAN,UAGGtC,EAAKuC,KAHR,YAGgBvC,EAAKwC,IAHrB,YAG4BxC,EAAK3B,KAFjC,sBAMZ,kBAAC2D,EAAA,EAAMS,KAAP,KACSpC,EAAQ,kBAACqC,EAAA,EAAD,CAAOxF,QAAQ,UAAf,IAA0BmD,EAA1B,KAA4C,KACrD,kBAAC,EAAD,CAAST,QAASA,IACjBI,GAAQQ,OAAOmC,KAAK3C,GAAM4C,KAAK,SAAAC,GAC5B,OAAKlG,EAAMmG,OAAO3E,MAAM,SAAA4E,GAAC,OAAIA,GAAKF,KAAY,KACvC,kBAAC,EAAD,CAAWG,IAAK,QAAQH,EAAGxD,KAAMwD,EAAGhF,MAAOmC,EAAK6C,GAAInD,aAAcA,QAKrF,kBAACsC,EAAA,EAAMiB,OAAP,KACI,kBAAChG,EAAA,EAAD,CAAQC,QAAQ,YAAaG,QAASV,EAAMwF,aAA5C,UAGExF,EAAM+D,QAAQ4B,IAGZ,kBAACrF,EAAA,EAAD,CAAQC,QAAQ,UAAUG,QAAS,kBAAIsD,EAAWX,IAAOkD,OAAQvG,EAAM+D,QAAQ4B,KAAKa,YAApF,QAFA,OA5BW,MC0BhBC,EApEF,WAAM,IAAD,EACUvE,mBAAS,MADnB,mBACPtB,EADO,KACD8F,EADC,OAEkBxE,mBAAS,IAF3B,mBAEPyE,EAFO,KAEGC,EAFH,OAGgB1E,mBAAS,MAHzB,mBAGP6B,EAHO,KAGE8C,EAHF,OAIgB3E,oBAAS,GAJzB,mBAIPe,EAJO,KAIEQ,EAJF,OAKYvB,mBAAS,MALrB,mBAKPwB,EALO,KAKAC,EALA,OAMkBzB,oBAAS,GAN3B,mBAMP4E,EANO,KAMEC,EANF,KASdnD,qBAAW,WACPH,GAAW,GACXE,EAAS,MACT,IAAIO,EAAO,UAAUC,OAAOC,SAASC,KAAKC,MAAM,MAAM,GAAGA,MAAM,KAAK,GAAI,IAGxEE,IAAM,GAAD,OAAKN,EAAL,yBAA0BtD,IAC9B+D,MAAK,SAAAC,GAC4B,KAA1BA,EAAOC,KAAKC,WACZ8B,EAAYhC,EAAOC,KAAKK,KAAK8B,UAE7BrD,EAAS,sEACTqB,QAAQC,IAAR,kCAAuCL,EAAOC,KAAKK,KAAKC,OAE5D1B,GAAW,MAEd2B,OAAO,SAAAD,GACJxB,EAAS,sEACTqB,QAAQC,IAAI,2BAA4BE,GACxC1B,GAAW,QAEjB,CAAC7C,EAAMkG,IAET,IAAMG,EAAe,SAAC5D,GAElBwD,EAAYxD,GAAQ,KAOxB,OACI,oCACI,kBAAC,EAAD,CAASJ,QAASA,IAClB,kBAAC,EAAD,CAAYrC,KAAMA,EAAMD,SAAU+F,IACjChD,EAAS,kBAACqC,EAAA,EAAD,CAAOxF,QAAQ,UAAf,IAA0BmD,EAA1B,KAA4C,KACtD,kBAACzD,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAKJ,UAAU,6BAEX+D,OAAOmC,KAAKW,GAAUV,KAAI,SAAAiB,GACtB,OACI,kBAAC,EAAD,CAAWb,IAAK,MAAMa,EAClBlG,MAAOkG,EAAGtG,KAAMA,EAAMW,OAAQoF,EAASO,GACvCxG,QAASuG,QAOrB,kBAAC,EAAD,CAAclD,QAASA,EAASgB,OAxB5B,WAChB8B,EAAW,MACXE,GAAcD,IAsBmDtB,YAAa,kBAAIqB,EAAW,OAC7EV,OAAQ,CAAC,MAAO,MAAO,MAAO,aC3DvCG,EARA,WACX,OACI,yBAAKxG,UAAU,UACX,wCCUGqH,MAVf,WACE,OACE,yBAAKrH,UAAU,OACb,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,QCJNsH,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.c8a888e6.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Header = () =>{\r\n    return (\r\n        <div className=\"header\">\r\n            <h2> Clarin Test </h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\nimport {Row, Col, Button, Container} from 'react-bootstrap'\r\n\r\nconst SelectYear = props => {\r\n    return (\r\n        <Container>\r\n            <Row className=\"selectYear\">\r\n                <Col md={2} xs={2}>\r\n                    <Button variant=\"success\" size=\"lg\" block onClick={()=>props.onChange(props.year -1 )} > \r\n                        {'<<'} \r\n                    </Button>\r\n                </Col>\r\n                <Col md={8} xs={8}>\r\n                    <h1> {props.year} </h1>\r\n                </Col>\r\n                <Col md={2} xs={2}>\r\n                <Button variant=\"success\" size=\"lg\" block onClick={()=>props.onChange(props.year +1 )}> \r\n                        {'>>'} \r\n                    </Button>\r\n                </Col>        \r\n            </Row>\r\n        </Container>\r\n    )\r\n\r\n}\r\n\r\n\r\nexport default SelectYear\r\n","import React from 'react'\r\nimport {Col} from 'react-bootstrap'\r\nimport CalendarLayout from 'react-calendar'\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\nconst Calendar = props =>{\r\n    let dateToday = new Date(props.year, props.month, 1)\r\n\r\n    const selectEvent = (date) =>{\r\n        let event = props.events.find( e=> e.dia == date.getUTCDate())\r\n        props.onClick(event)\r\n    }\r\n\r\n    return (\r\n        <Col lg={4} md={6} xs={12}>\r\n            <CalendarLayout\r\n            value={dateToday}\r\n            showNavigation={false}\r\n            showNeighboringMonth={false}\r\n            onChange={selectEvent}\r\n            locale={'es'}\r\n            tileClassName={({ date, view }) => {\r\n                props.events.find( e => e.dia == date.getDate() )\r\n                    let event = props.events.find( e => e.dia == date.getDate() )  \r\n                    if ( event ){\r\n                        switch (event.tipo) { //Set colors for differents types\r\n                            case 'inamovible':\r\n                                return 'customDate2'\r\n                            default:\r\n                                return 'customDate1'\r\n                        }\r\n                    } else {\r\n                        return 'noHighlight'\r\n                    }                   \r\n                }}\r\n            />\r\n            <br/>\r\n        </Col>\r\n    )\r\n}\r\n\r\nexport default Calendar","import React, {useState} from 'react'\r\nimport {Form, Col, Row} from 'react-bootstrap'\r\n\r\nconst FieldData = props => {\r\n    const [value, setValue] = useState(props.value)\r\n    \r\n    const handleChange = event => {\r\n        let value =  event.target.value;\r\n        setValue(value)\r\n        props.handleChange(props.name, value)\r\n    }\r\n\r\n    return (\r\n        <Form.Group as={Row}>\r\n            <Form.Label column sm={3}>\r\n                { props.name.toUpperCase() }\r\n            </Form.Label>\r\n            <Col sm={9}>\r\n                <Form.Control type=\"text\"\r\n                    onChange={handleChange}\r\n                    name={props.name}\r\n                    value={value}\r\n                />\r\n            </Col>\r\n        </Form.Group>\r\n    )\r\n\r\n}\r\n\r\nexport default FieldData","import React from 'react'\r\nimport SpinnerB from 'react-bootstrap/Spinner'\r\n\r\nconst Spinner = props =>{\r\n    if (!props.loading) return null\r\n    return (\r\n        <div className=\"loading\">\r\n            <SpinnerB size={150} animation=\"border\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n            </SpinnerB>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Spinner","import React, {useState, useEffect, useCallback} from 'react'\r\nimport {Modal, Button, Alert} from 'react-bootstrap'\r\nimport FieldData from '../components/FieldData'\r\nimport Spinner from '../components/Spinner'\r\nimport axios from 'axios'\r\n\r\nconst EventDetails = props =>{\r\n    const [item, setItem] = useState()\r\n    const [isSending, setIsSending] = useState( false )    \r\n    const [loading, setLoading] = useState(false)\r\n    const [error, setError] = useState(null)\r\n\r\n   \r\n    useEffect( ()=>{\r\n       setItem ( Object.assign({}, props.holiday) )\r\n    },[props.holiday])\r\n\r\n    const handleChange = (name, value) => {\r\n        item[name] = value\r\n        setItem(item)\r\n    } \r\n    \r\n    const handleSave = useCallback( (item) => { //Save Holiday and dissmis\r\n        if (isSending) return\r\n        setLoading(true)\r\n        setIsSending(true)\r\n        setError(null)\r\n        let host = 'http://'+window.location.href.split('//')[1].split('/')[0] +'/'; \r\n        if ( process.env.NODE_ENV == 'development') {host = '/' } //On Develop Only\r\n\r\n        axios.patch( `${host}feriados/update`, {feriado:item} )\r\n        .then(result => {\r\n            setLoading(false)\r\n            setIsSending(false)\r\n            if (result.data.statusCode == 200){\r\n                props.onSave(item) \r\n            } else {\r\n                setError('Ups.... Nos se pudo actualizar, intente mas tarde !!!')\r\n                console.log(`Req Failed. Error: ${result.data.body.err}`);\r\n            }\r\n        })\r\n        .catch( err => {\r\n            setLoading(false)\r\n            setIsSending(false)\r\n            setError('Ups.... Nos se pudo actualizar, intente mas tarde !!!')\r\n            console.log(`Req Failed. Error: ${err}`);\r\n        })\r\n    }, []);\r\n    \r\n\r\n    if (!props.holiday) return null\r\n    \r\n    return(\r\n        <Modal show={props.holiday != null} onHide={props.handleClose} size=\"lg\">\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>\r\n                    {   !item._id ? \r\n                        'Fecha Sin Feriado'\r\n                    :\r\n                        `${item.anio}/${item.mes}/${item.dia}`\r\n                    }\r\n                </Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                    {error ? <Alert variant='danger'> {error} </Alert> : null}                    \r\n                    <Spinner loading={loading}/>\r\n                    {item && Object.keys(item).map( i =>{\r\n                        if ( props.filter.find( f => f == i) ) return null\r\n                        return <FieldData key={'field'+i} name={i} value={item[i]} handleChange={handleChange}/>\r\n                    })\r\n                    }\r\n                    \r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\"  onClick={props.handleClose} >\r\n                    CERRAR\r\n                </Button>\r\n                {!props.holiday._id ? \r\n                    null \r\n                : \r\n                    <Button variant=\"primary\" onClick={()=>handleSave(item)} hide={(!props.holiday._id).toString()}>\r\n                        SAVE\r\n                    </Button>\r\n                }\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default EventDetails\r\n","import React, {useState, useEffect} from 'react'\r\nimport SelectYear from '../components/SelectYear'\r\nimport Calendar from '../components/Calendar'\r\nimport axios from 'axios'\r\nimport {Row, Container, Alert} from 'react-bootstrap'\r\nimport EventDetails from './EventDetails'\r\nimport Spinner from '../components/Spinner'\r\n\r\nconst Main = () =>{\r\n    const [year, setYear] = useState(2020)    \r\n    const [holidays, setHolidays] = useState([])\r\n    const [holiday, setHoliday] = useState(null)\r\n    const [loading, setLoading] = useState(false)\r\n    const [error, setError] = useState(null)\r\n    const [refresh, forceRefresh] = useState(false)\r\n    \r\n    \r\n    useEffect (()=>{ //Load holidays Year\r\n        setLoading(true)\r\n        setError(null)\r\n        let host = 'http://'+window.location.href.split('//')[1].split('/')[0] +'/'; \r\n        if ( process.env.NODE_ENV == 'development') {host = '/' } //On Develop Only       \r\n        \r\n        axios( `${host}feriados/anio/${year}`)\r\n        .then(result => {\r\n            if (result.data.statusCode == 200){\r\n                setHolidays(result.data.body.payload) \r\n            } else {\r\n                setError('Ups.... Nos se pudieron cargar los feriados, intente mas tarde !!!')\r\n                console.log(`Get Data Failed. Error: ${result.data.body.err}`);\r\n            }\r\n            setLoading(false)            \r\n        })\r\n        .catch( err => {\r\n            setError('Ups.... Nos se pudieron cargar los feriados, intente mas tarde !!!')\r\n            console.log('Get Data Failed. Error: ', err ) \r\n            setLoading(false)\r\n        })\r\n    },[year, refresh])\r\n\r\n    const showDetails  = (item) =>{\r\n        // if (!item) return;  //Remove to Ignore 'Fecha Sin Feriado' Modal\r\n        setHoliday( item || {} )\r\n    }\r\n    const saveSuccess = () =>{\r\n        setHoliday(null)\r\n        forceRefresh(!refresh) //Refresh\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <Spinner loading={loading}/>\r\n            <SelectYear year={year} onChange={setYear}/> \r\n            {error ?  <Alert variant='danger'> {error} </Alert> : null }\r\n            <Container>\r\n                <Row className=\"justify-content-md-center\">\r\n                {\r\n                    Object.keys(holidays).map(m => {\r\n                        return (\r\n                            <Calendar  key={'key'+m}\r\n                                month={m} year={year} events={holidays[m]}\r\n                                onClick={showDetails}\r\n                                />\r\n                        )\r\n                    } )\r\n                }\r\n                </Row>\r\n                {\r\n                    <EventDetails holiday={holiday} onSave={saveSuccess} handleClose={()=>setHoliday(null)}\r\n                        filter={['_id', 'dia', 'mes', 'anio']} />\r\n                }\r\n            </Container>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Main","import React from 'react'\r\n\r\nconst Footer = () =>{\r\n    return (\r\n        <div className=\"footer\">\r\n            <h5>Footer</h5>\r\n        </div>\r\n    )    \r\n}\r\n\r\nexport default Footer","import React from 'react';\nimport Header from './layout/Header'\nimport Main from './layout/Main'\nimport Footer from './layout/Footer'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header/>\n      <Main/>\n      <Footer/>\n    </div>\n  );\n} \n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './public/styles/styles.css'\nimport './public/styles/bootstrap.min.css'\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}